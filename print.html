<!DOCTYPE HTML>
<html lang="en" class="ayu sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>libremidi documentation</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "ayu";
            const default_dark_theme = "ayu";
            window.path_to_searchindex_js = "searchindex-b3bf9602.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-c7505903.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">libremidi documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="funky-midi-with-libremidi"><a class="header" href="#funky-midi-with-libremidi">Funky MIDI with <a href="https://github.com/celtera/libremidi">libremidi</a></a></h1>
<p>libremidi is an all-in-one cross-platform C++20 MIDI library for both file and real-time output.
Real-time I/O supports MIDI 2 on macOS (11+) and Linux (Kernel 6.5+), and on Windows (currently on Windows 11 Insiders builds or Windows 10 with an explicit install of the new <a href="https://github.com/microsoft/MIDI/releases">Windows MIDI Services</a>).</p>
<p>It is a fork / rewrite originally based on two libraries, but has since then been almost entirely rewritten:</p>
<ul>
<li><a href="https://github.com/theSTK/RtMidi">RtMidi</a></li>
<li><a href="https://github.com/ddiakopoulos/ModernMIDI">ModernMIDI</a></li>
</ul>
<p>Compared to its origins, it features a lot of changes and improvements:</p>
<ul>
<li><code>libremidi::observer</code> allows to enumerate MIDI devices and provides hotplug support on every back-end.</li>
<li>Ports are identified not with a number but with a handle which enables more stability when unplugging / replugging.</li>
<li>Memory allocations and virtual function calls are greatly reduced when compared to the RtMidi base-line.
<ul>
<li>Ability to enforce fixed message sizes with boost::static_vector for hard real-time operation</li>
<li>Ability to use boost::small_vector to cover most cases.</li>
</ul>
</li>
<li>Integer timestamps everywhere, by default in nanoseconds. This avoids precision issues for instance when doing precise computations over long-running art installations mixing short and long timescales: in double-precision, the assertion “number of nanoseconds in a year + 1 == number of nanoseconds in a year” holds.</li>
<li>Ability to choose different timestamping methods (e.g. relative, absolute monotonic clock, sample-based or custom timestamping…).</li>
<li>Integration of modern C++20 types (for instance std::span instead of std::vector, std::function for callbacks, etc.)</li>
<li>Standard C++ threading primitives (std::thread, std::jthread) are now used, as well as modern Linux facilities for polling control (eventfd, timerfd).</li>
<li>Most of the code has been refactored in multiple files for clarity.</li>
</ul>
<p>It also features some new &amp; improved backends:</p>
<ul>
<li>ALSA RawMidi API.</li>
<li>PipeWire.</li>
<li>Windows UWP.</li>
<li>WebMIDI in Emscripten.</li>
<li>JACK support on all platforms where it is available.</li>
<li>Computer keyboard input.</li>
<li>Network input and output.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="compiling-the-library"><a class="header" href="#compiling-the-library">Compiling the library</a></h1>
<p>libremidi uses CMake as build system.
The easiest way to compile the library is to take inspiration from the CI scripts as they will install the required dependencies.</p>
<p>Some backends require an up-to-date C++20 compiler: JACK and PipeWire, as we leverage the C++20 semaphore support.</p>
<p>Compiling the library and examples is as simple as:</p>
<pre><code class="language-bash">$ cmake -Wno-dev \
  -S path/to/libremidi \
  -B build_folder \
  -DLIBREMIDI_EXAMPLES=1 

$ cmake --build build_folder
</code></pre>
<p>libremidi is also available on <a href="https://vcpkg.link/ports/libremidi">vcpkg</a> and <a href="https://mynixos.com/nixpkgs/package/libremidi">Nixpkgs</a>.</p>
<h2 id="on-linux--bsd"><a class="header" href="#on-linux--bsd">On Linux &amp; BSD</a></h2>
<p>Note that the ALSA and PipeWire back-end rely on timerfd and eventfd which
may not be available on very, very, very old Linux kernels (&lt; 3.x) or some BSD kernels.</p>
<p>Note that the ALSA Raw back-end also needs udev access to support hotplug for USB peripherals.</p>
<ul>
<li>Debian &amp; Ubuntu packages for all the back-ends:</li>
</ul>
<pre><code>libasound-dev
libjack-jackd2-dev
libudev-dev
libpipewire-0.3-dev
</code></pre>
<ul>
<li>ArchLinux packages for all the back-ends:</li>
</ul>
<pre><code>alsa-lib
jack2
libpipewire
systemd-libs
</code></pre>
<h2 id="on-windows"><a class="header" href="#on-windows">On Windows</a></h2>
<p>Note that when targetting Windows Store, WinMM APIs are not available, only UWP ones.</p>
<p>Both MSVC and MSYS2 are supported (on all MSYS2 toolchains).</p>
<p>Note that for MIDI 2 support it is currently necessary for the end-user to install the <a href="https://github.com/microsoft/MIDI/releases">Windows MIDI Services</a> on their computer. As of version 5, libremidi has been tested on Windows 10 and 11 with the DP9 NAMM Preview 4 release.</p>
<h2 id="on-macos--ios"><a class="header" href="#on-macos--ios">On macOS &amp; iOS</a></h2>
<p>Note that for MIDI 2 support, the application needs to target at least macOS 11.0.
e.g. <code>-DCMAKE_OSX_DEPLOYMENT_TARGET=11</code> or more recent needs to be passed to CMake.</p>
<h2 id="advanced-features"><a class="header" href="#advanced-features">Advanced features</a></h2>
<ul>
<li>For MIDI 1: ability to set a fixed message size upper-bound for zero-allocation scenarios, with <code>-DLIBREMIDI_SLIM_MESSAGE=&lt;NBytes&gt;</code> (in CMake or directly to the compiler)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="using-libremidi-in-header-only-mode"><a class="header" href="#using-libremidi-in-header-only-mode">Using libremidi in header-only mode</a></h1>
<p>The library can be used header-only, with minimal modifications to your build system if you aren’t using CMake:</p>
<ul>
<li>
<p>Define <code>LIBREMIDI_HEADER_ONLY=1</code></p>
</li>
<li>
<p>Define macros for the APIs you wish to build. The possible macros are as follows:</p>
<ul>
<li>macOS: <code>LIBREMIDI_COREMIDI=1</code> and link against <code>-framework CoreMIDI -framework CoreAudio -framework CoreFoundation</code>.</li>
<li>Linux: <code>LIBREMIDI_ALSA=1</code> and link against <code>-lasound -phtread</code>.</li>
<li>Windows (WinMM): <code>LIBREMIDI_WINMM=1</code> and link against <code>winmm</code>.</li>
<li>Windows (UWP): <code>LIBREMIDI_WINUWP=1</code> ; note that there is complex linking logic detailed in the CMakeLists.txt when using UWP.</li>
<li>Windows (MIDI services): <code>LIBREMIDI_WINMIDI=1</code>. Windows SDK headers and Windows MIDI headers are required.</li>
<li>emscripten: <code>LIBREMIDI_EMSCRIPTEN=1</code>.</li>
<li>Any platform with JACK: <code>LIBREMIDI_JACK=1</code>.</li>
<li>Network API: <code>LIBREMIDI_NETWORK=1</code> and include boost.</li>
<li>Keyboard API: <code>LIBREMIDI_KEYBOARD=1</code>.</li>
</ul>
</li>
<li>
<p>Add the <code>include</code> folder to your include path.</p>
</li>
<li>
<p><code>#include &lt;libremidi/libremidi.hpp&gt;</code> in your source code.</p>
</li>
</ul>
<p>For instance, to build the <code>midiprobe</code> example on Linux with only ALSA support, one would run:</p>
<pre><code>$ g++ ~/libremidi/tests/midiprobe.cpp \
      -std=c++20 \
      -DLIBREMIDI_ALSA=1 \
      -DLIBREMIDI_HEADER_ONLY=1 \
      -I ~/libremidi/include \
      -lasound -pthread
</code></pre>
<p>To build it on macOS, one would run:</p>
<pre><code>$ clang++ ~/libremidi/tests/midiprobe.cpp \
      -std=c++20 \
      -DLIBREMIDI_COREMIDI=1 \
      -DLIBREMIDI_HEADER_ONLY=1 \
      -I ~/libremidi/include \
      -framework CoreMIDI -framework CoreAudio -framework CoreFoundation
</code></pre>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="adding-libremidi-to-your-project"><a class="header" href="#adding-libremidi-to-your-project">Adding libremidi to your project</a></h1>
<h2 id="through-cmake"><a class="header" href="#through-cmake">Through CMake</a></h2>
<p>Consider the following existing CMake project for you application:</p>
<pre><code class="language-cmake">project(my_app)

add_executable(my_app src/main.cpp)
</code></pre>
<p>Then you can add libremidi either directly for instance through a git submodule:</p>
<pre><code class="language-cmake">project(my_app)

# example of folder structure
add_subdirectory(3rdparty/libremidi)

add_executable(my_app src/main.cpp)

target_link_libraries(my_app PRIVATE libremidi)
</code></pre>
<p>Or through FetchContent:</p>
<pre><code class="language-cmake">project(my_app)

FetchContent_Declare(
    libremidi
    GIT_REPOSITORY https://github.com/celtera/libremidi
    GIT_TAG        main
)

FetchContent_MakeAvailable(libremidi)

add_executable(my_app src/main.cpp)

target_link_libraries(my_app PRIVATE libremidi)
</code></pre>
<h2 id="through-a-custom-build-system"><a class="header" href="#through-a-custom-build-system">Through a custom build-system</a></h2>
<p>If using a custom build-system, the main thing to be aware of that
CMake does automatically for you is passing the relevant flags which will enable each backend
and linking with the correct libraries.</p>
<p>For instance on Linux with ALSA:</p>
<pre><code class="language-sh">$ g++ \
  main.cpp \
  -std=c++20 \
  -I3rdparty/libremidi/include \
  -DLIBREMIDI_ALSA=1 \
  -DLIBREMIDI_HAS_UDEV=1
  -ldl
</code></pre>
<p>or on macOS with CoreMIDI:</p>
<pre><code class="language-sh">$ clang++ \
  main.cpp \
  -std=c++20 \
  -I3rdparty/libremidi/include \
  -DLIBREMIDI_COREMIDI=1 \
  -framework CoreFoundation \
  -framework CoreAudio \
  -framework CoreMIDI
</code></pre>
<p>or on Win32 with WinMM:</p>
<pre><code class="language-batch">&gt; cl.exe ^
  main.cpp ^
  /std:c++latest ^
  /I c:\libs\3rdparty\libremidi\include ^
  /DLIBREMIDI_WINMM=1 ^
  /DUNICODE=1 ^
  /D_UNICODE=1 ^
  path/to/winmm.lib
</code></pre>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="enumerating-ports"><a class="header" href="#enumerating-ports">Enumerating ports</a></h1>
<p>The required header is <code>#include &lt;libremidi/libremidi.hpp&gt;</code>.</p>
<p>Inputs:</p>
<pre><code class="language-cpp">libremidi::observer obs;
for(const libremidi::input_port&amp; port : obs.get_input_ports()) {
  std::cout &lt;&lt; port.port_name &lt;&lt; "\n";
}
</code></pre>
<p>Outputs:</p>
<pre><code class="language-cpp">libremidi::observer obs;
for(const libremidi::output_port&amp; port : obs.get_output_ports()) {
  std::cout &lt;&lt; port.port_name &lt;&lt; "\n";
}
</code></pre>
<p>See <code>midiprobe.cpp</code> for a simple example.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="reading-midi-1-messages-from-a-device-through-callbacks"><a class="header" href="#reading-midi-1-messages-from-a-device-through-callbacks">Reading MIDI 1 messages from a device through callbacks</a></h1>
<pre><code class="language-cpp">// Set the configuration of our MIDI port
// Note that the callback will be invoked from a separate thread,
// it is up to you to protect your data structures afterwards.
// For instance if you are using a GUI toolkit, don't do GUI actions
// in that callback !
auto my_callback = [](const libremidi::message&amp; message) {
  // how many bytes
  message.size();
  // access to the individual bytes
  message[i];
  // access to the timestamp
  message.timestamp;
};

// Create the midi object
libremidi::midi_in midi{ 
  libremidi::input_configuration{ .on_message = my_callback } 
};

// Open a given midi port. 
// The argument is a libremidi::input_port gotten from a libremidi::observer. 
midi.open_port(/* a port */);
// Alternatively, to get the default port for the system: 
if(auto port = libremidi::midi1::in_default_port())
  midi.open_port(*port);

// Note that only one port can be open at a given time on a midi_in or midi_out object.

</code></pre>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="sending-midi-1-messages-to-a-device"><a class="header" href="#sending-midi-1-messages-to-a-device">Sending MIDI 1 messages to a device</a></h1>
<pre><code class="language-cpp">// Create the midi object
libremidi::midi_out midi;

// Open a given midi port. Same as for input:
if(auto port = libremidi::midi1::out_default_port())
  midi.open_port(*port);

// Option A: send fixed amount of bytes for most basic cases
midi.send_message(144, 110, 40); // Overloads exist for 1, 2, 3 bytes

// Option B: send a raw byte array
unsigned char bytes[3] = { 144, 110, 40 };
midi.send_message(bytes, sizeof(bytes));

// Option C: std::span&lt;unsigned char&gt;
// This allows to pass std::vector, std::array and the likes
midi.send_message(std::span&lt;unsigned char&gt;{ ... your span-compatible data-structure ... });

// Option D: helpers with the libremidi::channel_events and libremidi::meta_events structs
// See libremidi/message.hpp for the full list
midi.send_message(libremidi::channel_events::note_on(channel, note, velocity));
midi.send_message(libremidi::channel_events::control_change(channel, control, value));
midi.send_message(libremidi::channel_events::pitch_bend(channel, value));
midi.send_message(libremidi::message{ /* a message */ });
</code></pre>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="reading-midi-2-messages-from-a-device-through-callbacks"><a class="header" href="#reading-midi-2-messages-from-a-device-through-callbacks">Reading MIDI 2 messages from a device through callbacks</a></h1>
<p>Note that the MIDI 1 and MIDI 2 send and receive functions are useable no matter
the kind of backend used (e.g. one can send UMPs to MIDI 1 backends and MIDI 1 messages to MIDI 2 backends). This conversion is done in a best-effort way.</p>
<p>Note also that libremidi by default will upscale MIDI 1 to MIDI 2 channel events when coming from user-code: it is safe to assume than when using UMP input, only MIDI 2 channel events have to be processed, not MIDI 1 channel events encapsulated into UMPs.</p>
<p>For Windows MIDI Services, a toggle allows to change this behaviour.</p>
<pre><code class="language-cpp">// Set the configuration of our MIDI port, same warnings apply than for MIDI 1.
// Note that an UMP message is always at most 4 * 32 bits = 16 bytes.
// Added to the 64-bit timestamp this is 24 bytes for a libremidi::ump 
// which is definitely small enough to be passed by value.
// Note that libremidi::ump is entirely constexpr.
auto my_callback = [](libremidi::ump message) {
  // how many 32-bit UMP base elements (e.g. at least 1 uint32_t)
  message.size();
  // access to the individual UMP 
  message[i];
  // access to the timestamp
  message.timestamp;
};

// Create the midi object
libremidi::midi_in midi{ 
  libremidi::ump_input_configuration{ .on_message = my_callback }
};


// Open a given midi port. 
// The argument is a libremidi::input_port gotten from a libremidi::observer. 
midi.open_port(/* a port */);
// Alternatively, to get the default port for the system: 
midi.open_port(libremidi::midi2::in_default_port());

</code></pre>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="sending-midi-2-messages-to-a-device"><a class="header" href="#sending-midi-2-messages-to-a-device">Sending MIDI 2 messages to a device</a></h1>
<pre><code class="language-cpp">// Create the midi object
libremidi::midi_out midi;

// Open a given midi port. Same as for input:
if(auto port = libremidi::midi2::out_default_port())
  midi.open_port(*port);

// Option A: send fixed amount of bytes for most basic cases
midi.send_ump(A, B, C, D); // Overloads exist for 1, 2, 3, 4 uint32_t

// Option B: send a raw byte array.
// This can contain a sequence of UMP messages.
uint32_t bytes[2] = { ... };
midi.send_ump(bytes, sizeof(bytes));

// Option C: std::span&lt;uint32_t&gt;
// This allows to pass std::vector, std::array and the likes
// This can contain a sequence of UMP messages.
midi.send_ump(std::span&lt;uint32_t&gt;{ ... your span-compatible data-structure ... });

// Option D: helpers with the libremidi::ump class
// The helpers haven't been implemented yet :(
midi.send_ump(libremidi::ump{ /* a message */ });
</code></pre>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="midi-file-io-usage"><a class="header" href="#midi-file-io-usage">MIDI file I/O usage</a></h1>
<h2 id="reading-a-mid-file"><a class="header" href="#reading-a-mid-file">Reading a .mid file</a></h2>
<p>See <code>midifile_dump.cpp</code> for a more complete example.</p>
<pre><code class="language-cpp">// Read raw from a MIDI file
std::ifstream file{"path/to/a.mid", std::ios::binary};

std::vector&lt;uint8_t&gt; bytes;
bytes.assign(std::istreambuf_iterator&lt;char&gt;(file), std::istreambuf_iterator&lt;char&gt;());

// Initialize our reader object
libremidi::reader r;

// Parse
libremidi::reader::parse_result result = r.parse(bytes);

// If parsing succeeded, use the parsed data
if(result != libremidi::reader::invalid) {
  for(auto&amp; track : r.tracks) {
    for(auto&amp; event : t.events) {
      std::cout &lt;&lt; (int) event.m.bytes[0] &lt;&lt; '\n';
    }
  }
}
</code></pre>
<h2 id="writing-a-mid-file"><a class="header" href="#writing-a-mid-file">Writing a .mid file</a></h2>
<pre><code class="language-cpp">// Initialize a writer object
libremidi::writer writer;

// Create tracks and events declaratively by changing the track vector directly:
writer.tracks.push_back(
  libremidi::midi_track{
    libremidi::track_event{0, 0, libremidi::channel_events::note_on(1, 45, 35)},
    libremidi::track_event{140, 0, libremidi::channel_events::note_off(1, 45, 0)},
  }
);

// Or through a builder API:
{
  int tick = 500;
  int track = 3;
  libremidi::message msg = libremidi::channel_events::note_on(1, 45, 35);

  // Tracks will be added as needed within safe limits
  writer.add_event(tick, track, msg);
}

// Read raw from a MIDI file
std::ofstream output{"output.mid", std::ios::binary};
writer.write(output);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="midi-2-integrations"><a class="header" href="#midi-2-integrations">MIDI 2 integrations</a></h1>
<p>libremidi integrates with the existing MIDI 2 ecosystem.</p>
<h2 id="cmidi2"><a class="header" href="#cmidi2">cmidi2</a></h2>
<p>We ship Atsushi Eno’s <a href="https://github.com/atsushieno/cmidi2">cmidi2</a> header-only MIDI 2 implementation as part of the library.
This allows to quickly match incoming messages with MIDI 2 types. A lot of useful utility functions are provided.</p>
<p>See a basic <code>midi2_echo.cpp</code> example: it uses the following printing function:</p>
<pre><code class="language-cpp">std::ostream&amp; operator&lt;&lt;(std::ostream&amp; s, const libremidi::ump&amp; message)
{
  // Automatic conversion from libremidi::ump&amp; to cmidi2_ump*
  // Note that cmidi2_ump is just a typedef for uint32_t.
  const cmidi2_ump* b = message;
  
  // Read MIDI 2 information
  int bytes = cmidi2_ump_get_num_bytes(message.data[0]);
  int group = cmidi2_ump_get_group(b);
  int status = cmidi2_ump_get_status_code(b);
  int channel = cmidi2_ump_get_channel(b);
  s &lt;&lt; "[ " &lt;&lt; bytes &lt;&lt; " | " &lt;&lt; group;

  switch ((libremidi::message_type)status)
  {
    case libremidi::message_type::NOTE_ON:
      s &lt;&lt; " | note on: " &lt;&lt; channel &lt;&lt; (int)cmidi2_ump_get_midi2_note_note(b) &lt;&lt; " | "
        &lt;&lt; cmidi2_ump_get_midi2_note_velocity(b);
      break;
    case libremidi::message_type::NOTE_OFF:
      s &lt;&lt; " | note off: " &lt;&lt; channel &lt;&lt; (int)cmidi2_ump_get_midi2_note_note(b) &lt;&lt; " | "
        &lt;&lt; cmidi2_ump_get_midi2_note_velocity(b);
      break;
    case libremidi::message_type::CONTROL_CHANGE:
      s &lt;&lt; " | cc: " &lt;&lt; channel &lt;&lt; (int)cmidi2_ump_get_midi2_cc_index(b) &lt;&lt; " | "
        &lt;&lt; cmidi2_ump_get_midi2_cc_data(b);
      break;

    default:
      break;
  }
  s &lt;&lt; " ]";
  return s;
}
</code></pre>
<h2 id="ni-midi2"><a class="header" href="#ni-midi2">ni-midi2</a></h2>
<p>It is possible to enable compatibility with [ni-midi2](https://github.com/midi2-dev/ni-midi2, the MIDI Association-backed MIDI 2 implementation.
This is done with the <code>LIBREMIDI_NI_MIDI2</code> CMake switch: <code>-DLIBREMIDI_NI_MIDI2=ON</code>.</p>
<p>An example of initialisation of a MIDI 2-compliant communication can be found in the <code>midi2_interop.cpp</code> example.</p>
<p>Note that due to the complexity of MIDI 2, we believe end-users will want to build their
own, custom-tailored stack and API on top of these base layers.</p>
<p>Current interoperability features are:</p>
<ul>
<li><code>libremidi::ump</code> can be converted to <code>midi::universal_packet</code> and conversely.</li>
<li><code>libremidi::midi_out::send_ump</code> can be called with <code>midi::universal_packet</code>, <code>midi::sysex7_packet</code> and <code>midi::sysex8_packet</code>.</li>
</ul>
<p>This ensures that most MIDI-CI messages can be sent directly.
Example:</p>
<pre><code>libremidi::midi_out midiout;

...

midiout.send_ump(midi::ci::make_discovery_inquiry(my_muid, id, 0x02, 512));
</code></pre>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="device-connection--disconnection-notification"><a class="header" href="#device-connection--disconnection-notification">Device connection / disconnection notification</a></h1>
<pre><code class="language-cpp">// The callbacks will be called when the relevant event happens.
// Note that they may be called from other threads than the main thread.

libremidi::observer_configuration conf{
    .input_added = [&amp;] (const libremidi::input_port&amp; id) {
      std::cout &lt;&lt; "Input connected: " &lt;&lt; id.port_name &lt;&lt; std::endl;
    },
    .input_removed = [&amp;] (const libremidi::input_port&amp; id) {
      std::cout &lt;&lt; "Input removed: " &lt;&lt; id.port_name &lt;&lt; std::endl;
    },
    .output_added = [&amp;] (const libremidi::output_port&amp; id) {
      std::cout &lt;&lt; "Output connected: " &lt;&lt; id.port_name &lt;&lt; std::endl;
    },
    .output_removed = [&amp;] (const libremidi::output_port&amp; id) {
      std::cout &lt;&lt; "Output removed: " &lt;&lt; id.port_name &lt;&lt; std::endl;
}};

libremidi::observer obs{std::move(conf)};
</code></pre>
<p>See <code>midiobserve.cpp</code> or <code>emscripten_midiin.cpp</code> for an example.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="error-handling"><a class="header" href="#error-handling">Error handling</a></h1>
<p>The default error handling in the real-time API is done with an error type inspired from the proposed <a href="https://github.com/charles-salvia/std_error">std::error</a>. It has the advantage of working correctly in a header-only library unlike standard <code>std::error_code</code> and easily allows turning the error into an exception if needed, as well as getting back the original host API error code if any, for instance an ALSA or WinMM error code.</p>
<p>Example:</p>
<pre><code class="language-cpp">if (auto err = midiin.open_port(pi[0]); err != stdx::error{}) {
  std::print("{}", err.message());
  if(err == std::errc::bad_argument)
    err.throw_exception();
  // etc.
}
</code></pre>
<p>## Error callbacks</p>
<p>It is also possible to set a callback function which will be invoked upon error, for the <code>midi_in</code>, <code>observer</code> <code>midi_out</code> classes.</p>
<p>(Some classes may still throw, such as when creating invalid MIDI messages with the <code>libremidi::message</code> helpers, or the <code>observer</code> classes).</p>
<pre><code class="language-cpp">// Create the configuration
libremidi::input_configuration conf{
    .on_message = /* usual message callback */
  , .on_error = [] (libremidi::midi_error code, std::string_view info) {
      // ... log error however you want
    }
  , .on_warning = [] (libremidi::midi_error code, std::string_view info) {
      // ... log warning however you want
    }
};

// Create the midi object
libremidi::midi_in midi{conf};
</code></pre>
<p>Ditto for <code>midi_out</code> and <code>observer</code>.</p>
<p>## Error handling in the MIDI file API</p>
<p>In this case, due to the non-realtime nature of the code, and to make the implementation legible, error handling is done with exceptions.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="advanced-configuration"><a class="header" href="#advanced-configuration">Advanced configuration</a></h1>
<p>The <code>midi_in</code>, <code>midi_out</code> and <code>midi_observer</code> objects are configured through a <code>input_configuration</code> (resp. <code>output_</code>, etc.) object passed in argument to the constructor.</p>
<p>Example:</p>
<pre><code class="language-cpp">#include &lt;libremidi/configurations.hpp&gt;

...

libremidi::midi_in in{
    libremidi::input_configuration{
      .on_message = ...
    , .ignore_sysex = false
    , .ignore_sensing = true
    }
};
</code></pre>
<p>Note that by default, sysex are ignored and have to be enabled with <code>ignore_sysex = false</code> if desired.</p>
<h2 id="custom-back-end-configuration"><a class="header" href="#custom-back-end-configuration">Custom back-end configuration</a></h2>
<p>Additionnally, each back-end supports back-end specific configuration options, to enable users to tap into advanced features of a given API while retaining the general C++ abstraction.</p>
<p>For instance, this enables to set output buffer sizes, chunking parameters, etc. for back-ends which support the feature.</p>
<pre><code class="language-cpp">#include &lt;libremidi/backends.hpp&gt;

...

libremidi::midi_in in{
    libremidi::input_configuration{
      .on_message = ...
    },
    libremidi::pipewire_input_configuration{
      .client_name = "My app"
    }
};
</code></pre>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="context-sharing"><a class="header" href="#context-sharing">Context sharing</a></h1>
<p>This allows to share a single context across multiple MIDI objects (such as a <code>jack_client_t</code> with JACK, a PipeWire main loop &amp; filter, or a <code>MIDIClientRef</code> on macOS with CoreMIDI).
If no context is passed, each object will create one as they used to.</p>
<p>Example:</p>
<pre><code class="language-cpp">#include &lt;libremidi/configurations.hpp&gt;

...

libremidi::midi_in in{
    libremidi::input_configuration{.on_message = ...}
  , libremidi::alsa_seq::input_configuration{
      .client_name = "my client"
  } 
};
</code></pre>
<p>If one simply wants to share a context across libremidi objects (for instance, a single context shared across an <code>observer</code>, <code>midi_ins</code> and <code>midi_outs</code>), the following methods will create appropriate configurations from an observer’s configuration:</p>
<pre><code class="language-cpp">// Create an observer with a fixed back-end
libremidi::observer obs{
    libremidi::observer_configuration{}
  , libremidi::observer_configuration_for(libremidi::API::JACK_MIDI)};

// The in and out will share the JACK client of the observer.
// Note that the observer has to outlive them.
libremidi::midi_in in{
    libremidi::input_configuration{.on_message = ...}
  , libremidi::midi_in_configuration_for(obs) 
};

libremidi::midi_out out{
    libremidi::output_configuration{...}
  , libremidi::midi_out_configuration_for(obs) 
};
</code></pre>
<p>In that case, note that the <code>obs</code> has ownership of for instance the JACK context object: it must outlive <code>in</code> and <code>out</code>.</p>
<p>The relevant examples are:</p>
<ul>
<li><code>coremidi_share.cpp</code> for a complete example for CoreMIDI.</li>
<li><code>jack_share.cpp</code> for a complete example for JACK.</li>
<li><code>pipewire_share.cpp</code> for a complete example for PipeWire.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="custom-polling"><a class="header" href="#custom-polling">Custom polling</a></h1>
<p>Traditionnally, RtMidi (and most other MIDI libraries) opened a dedicated MIDI thread from which messages are read, and then transferred to the rest of the app.</p>
<p>If your app is based on an event loop that can poll file descriptors, such as <code>poll()</code>, the relevant back-ends will allow to instead control polling manually by providing you with the file descriptors,
which can then be injected into your app’s main loop.</p>
<p>Thus, this enables complete control over threading (and can also remove the need for synchronisation as this allows to make a callback-based yet single-threaded app, for simple applications which do not wish to reimplement MIDI filtering &amp; parsing for back-ends such as ALSA Sequencer or RawMidi).</p>
<p>Since this feature is pretty complicated to implement correctly unless you already have an easily accessible <code>poll</code> loop in your app, we recommend checking the examples:</p>
<p>See:</p>
<ul>
<li><code>poll_share.cpp</code> for a complete example for ALSA RawMidi (recommended).</li>
<li><code>alsa_share.cpp</code> for a complete example for ALSA Seq.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="timestamping"><a class="header" href="#timestamping">Timestamping</a></h1>
<p>libremidi provides many useful timestamping options for its input callbacks:</p>
<pre><code>libremidi::input_configuration conf;

// No timestamping at all, all timestamps are zero
conf.timestamps = libremidi::NoTimestamp;

// In nanoseconds, timestamp is the time since the previous event (or zero)
conf.timestamps = libremidi::Relative;

// In nanoseconds, as per an arbitrary reference which may be provided by the host API,
// e.g. since the JACK cycle start, ALSA sequencer queue creation, through AudioHostTime on macOS.
// It offers the most precise ordering between events as it's the closest to the real timestamp of
// the event as provided by the host API.
// If the API does not provide any timing, it will be mapped to SystemMonotonic instead.
conf.timestamps = libremidi::Absolute;

// In nanoseconds, as per std::steady_clock::now() or equivalent (raw if possible).
// May be less precise than Absolute as timestamping is done within the library,
// but is more useful for system-wide synchronization.
// Note: depending on the backend, Absolute and SystemMonotonic may be the same.
conf.timestamps = libremidi::SystemMonotonic;

// For APIs which are based on audio process cycles such as JACK, timestamps will be in frames since
// the beginning of the current cycle's audio buffer
conf.timestamps = libremidi::AudioFrame;

// Will call the custom timestamping function provided by the user in the input configuration.
// We try to make sure that the input timestamp is as precise as possible ; it is given in the Absolute mode.
conf.get_timestamp = [] (libremidi::timestamp absolute) -&gt; libremidi::timestamp { 
  // Map absolute timestamp to the desired time domain
  return absolute / 1e6;
};
conf.timestamps = libremidi::Custom;
</code></pre>
<p>For the absolute timestamps, the origin of the timestamp can be obtained with <code>midi_in::absolute_timestamp()</code>.
For instance, it will return the time at which the timestamping queue was created in the ALSA back-end.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="queue-input"><a class="header" href="#queue-input">Queue input</a></h1>
<p>The old queued input mechanism present in RtMidi and previous versions of the library has been moved out of the code as it can be built entirely on the callback mechanism and integrated with the user application’s event processing queue instead.</p>
<p>A basic example is provided in <code>qmidiin.cpp</code>.</p>
<p>We recommend if possible to instead use an asynchronous runtime in order to keep an imperative behaviour while benefiting from the non-blocking properties of async programming.</p>
<p>An example based on C++20 coroutines with Boost.Cobalt is provided in <code>coroutines.cpp</code>.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="computer-keyboard-input"><a class="header" href="#computer-keyboard-input">Computer keyboard input</a></h1>
<p>This backend allwos to use the computer keys to play MIDI.
The backend does not directly read the key events as this would require making the library much more complex.
Instead, it provides a callback that you can plug into your favourite GUI toolkit to process scan codes.</p>
<p>The mapping is customizable. By default:</p>
<pre><code> ,---,---,---,---,---,---,---,---,---,---,---,---,---,-------,
 | V0| V1| V2| V3| V4| V5| V6| V7| V8| V9|V10|V11|V12| &lt;-    |
 |---'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-----|
 | -&gt;| |   | C#| D#|   | F#| G#| A#|   | C#| D#|   | F#|     |
 |-----',--',--',--',--',--',--',--',--',--',--',--',--'|    |
 | Caps | C | D | E | F | G | A | B | C | D | E | F | G |    |
 |----,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'---'----|
 | -^ |   | O-| O+| V-| V+|   |   |   |   |   |   |   ----^  |
 |----'-,-',--'--,'---'---'---'---'---'---'-,-'---',--,------|
 | ctrl |  | alt |                          |altgr |  | ctrl |
 '------'  '-----'--------------------------'------'  '------'
</code></pre>
<p>Where V0 to V12 set the velocity between 0 and 127 in steps of ~10, O- / O+ increase or decrease the octave and V- / V+ increase or decrease the velocity by 10.</p>
<p>Example:</p>
<pre><code>#include &lt;libremidi/backends/keyboard/config.hpp&gt;

libremidi::kbd_input_configuration api_conf;
api_conf.set_input_scancode_callbacks(
[] )
</code></pre>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="feature-matrix"><a class="header" href="#feature-matrix">Feature matrix</a></h1>
<p>This table shows which feature is supported by which backend so far, for advanced features.</p>
<p>It may be because the backend does not provide the ability at all (N/A),
or because it has not been implemented yet.</p>
<h2 id="linux--bsd"><a class="header" href="#linux--bsd">Linux &amp; BSD</a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th></th><th>ALSA Raw</th><th>ALSA Seq</th><th>PipeWire</th></tr>
</thead>
<tbody>
<tr><td>MIDI 1</td><td>Yes</td><td>Yes</td><td>Yes</td></tr>
<tr><td>MIDI 2</td><td>Yes</td><td>Yes</td><td>N/A</td></tr>
<tr><td>Virtual ports</td><td>N/A</td><td>Yes</td><td>Yes</td></tr>
<tr><td>Observer</td><td>Yes</td><td>Yes</td><td>Yes</td></tr>
<tr><td>Scheduling</td><td>No</td><td>No</td><td>No</td></tr>
</tbody>
</table>
</div>
<h3 id="special-features"><a class="header" href="#special-features">Special features</a></h3>
<ul>
<li>
<p>The ALSA Raw back-end allows to perform chunked sending of MIDI messages,
which can be useful to upload firmwares.</p>
</li>
<li>
<p><code>libasound</code> and <code>libpipewire</code> are always loaded through <code>dlopen</code>.
JACK can also be, optionally.</p>
</li>
</ul>
<p>This allows libremidi to be built on a system with e.g. PipeWire support
without preventing application loading if the end user does not use it.</p>
<h2 id="windows"><a class="header" href="#windows">Windows</a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th></th><th>WinMM</th><th>UWP</th><th>WinMIDI</th></tr>
</thead>
<tbody>
<tr><td>MIDI 1</td><td>Yes</td><td>Yes</td><td>No</td></tr>
<tr><td>MIDI 2</td><td>N/A</td><td>N/A</td><td>Yes</td></tr>
<tr><td>Virtual ports</td><td>N/A</td><td>No</td><td>No</td></tr>
<tr><td>Observer</td><td>Yes</td><td>Yes</td><td>Yes</td></tr>
<tr><td>Scheduling</td><td>No</td><td>No</td><td>No</td></tr>
</tbody>
</table>
</div>
<h2 id="mac--ios"><a class="header" href="#mac--ios">Mac &amp; iOS</a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th></th><th>CoreMIDI</th></tr>
</thead>
<tbody>
<tr><td>MIDI 1</td><td>Yes</td></tr>
<tr><td>MIDI 2</td><td>Yes</td></tr>
<tr><td>Virtual ports</td><td>Yes</td></tr>
<tr><td>Observer</td><td>Yes</td></tr>
<tr><td>Scheduling</td><td>No</td></tr>
</tbody>
</table>
</div>
<h2 id="web"><a class="header" href="#web">Web</a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th></th><th>Emscripten WebMIDI</th></tr>
</thead>
<tbody>
<tr><td>MIDI 1</td><td>Yes</td></tr>
<tr><td>MIDI 2</td><td>N/A</td></tr>
<tr><td>Virtual ports</td><td>N/A</td></tr>
<tr><td>Observer</td><td>Yes</td></tr>
<tr><td>Scheduling</td><td>No</td></tr>
</tbody>
</table>
</div>
<h2 id="shared-backends"><a class="header" href="#shared-backends">Shared backends</a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th></th><th>JACK</th></tr>
</thead>
<tbody>
<tr><td>MIDI 1</td><td>Yes</td></tr>
<tr><td>MIDI 2</td><td>N/A</td></tr>
<tr><td>Virtual ports</td><td>Yes</td></tr>
<tr><td>Observer</td><td>Yes</td></tr>
<tr><td>Scheduling</td><td>No</td></tr>
</tbody>
</table>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-3550ef20.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>


    </div>
    </body>
</html>
